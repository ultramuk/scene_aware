# Doxygen C++ 코딩 스타일 규칙

Version v1.0
Created 2025-07-07
Owner @kmlim

---

## 0. 개요

- **목적** C++ 프로젝트를 위한 Doxygen 주석 표준을 정의하여 일관성 있고 유지보수 가능한 문서를 보장합니다.
- **범위** 이 리포지토리의 모든 C++ 소스 코드 (`.hpp`, `.cpp`).
- **대상** 프로젝트에 기여하는 모든 C++ 개발자.

---

## 1. 목차

1. [핵심 원칙](#2-핵심-원칙)
2. [일반 주석 규칙](#3-일반-주석-규칙)
3. [구성 요소별 스타일 규칙](#4-구성-요소별-스타일-규칙)

---

## 2. 핵심 원칙

### 원칙 1 단순히 기계적으로가 아닌, 의도를 가지고 문서화하라

- **범위** 모든 문서화 주석.
- **근거** 코드는 *어떻게* 작동하는지 설명할 수 있지만, 문서는 *왜* 존재하는지, 설계 결정, 그리고 의도된 사용법을 설명해야 합니다. 이러한 맥락은 장기적인 유지보수와 협업에 매우 중요합니다.

### 원칙 2 문서와 코드를 일관되게 유지하라

- **범위** 모든 코드 수정.
- **근거** 오래되거나 부정확한 문서는 문서가 없는 것보다 더 해롭습니다. 코드를 변경할 때는 반드시 해당하는 Doxygen 주석도 업데이트해야 합니다.

---

## 3. 일반 주석 규칙

> **설명** 코드베이스 전체에 보편적으로 적용되는 Doxygen 주석 작성을 위한 기본 규칙을 포함합니다.

### 3.1 주석 스타일

#### 규칙 1 표준 Doxygen 주석 블록을 사용하라

- **범위** 모든 Doxygen 주석.
- **근거** 주석 스타일의 일관성은 가독성을 향상시키고 Doxygen 파서가 문서 블록을 정확하게 식별하도록 보장합니다.

```cpp
# GOOD
/**
 * @brief 파일, 클래스, 함수에 대한 상세 설명을 위한 여러 줄 주석.
 */

/// 선언부 위에 간결한 설명을 위한 한 줄 주석.
class MyClass {};

class MemberExample {
    int member_; ///< 멤버 변수를 위한 인라인 주석.
};
```

### 3.2 명령어 (태그) 사용법

#### 규칙 1 모든 Doxygen 명령어에는 `@` 접두사를 사용하라

- **범위** 모든 Doxygen 명령어.
- **근거** Doxygen은 `\`도 지원하지만, `@`로 표준화하면 프로젝트 전체의 일관성을 보장할 수 있습니다.

```cpp
# GOOD
/**
 * @brief 이것이 올바른 방식입니다.
 * @param user 사용자 객체.
 */

# BAD
/**
 * \brief 이것은 우리의 표준이 아닙니다.
 * \param user 사용자 객체.
 */
```

---

## 4. 구성 요소별 스타일 규칙

### 4.1 파일 주석

#### 규칙 1 모든 소스 및 헤더 파일의 최상단에는 파일 주석 블록이 있어야 한다.

- **범위** `*.hpp`, `*.cpp` 파일.
- **근거** 파일의 목적, 작성자, 버전에 대한 상위 수준의 개요를 제공하며, 이는 프로젝트 탐색 및 관리에 필수적입니다.

```cpp
# GOOD
/**
 * @file animal.hpp
 * @author kmlim (kmlim@laonroad.com)
 * @brief 동물의 기본 특성과 행동을 정의합니다.
 * @details 이 파일은 Animal 클래스와 AnimalType 열거형을 포함하며, 객체 지향 동물 모델의 기초를 제공합니다.
 * @version 1.1.0
 * @date 2025-06-24
 * @copyright Laonroad (c) 2025 Laonroad, All Rights Reserved.
 */
```

### 4.2 클래스, 구조체, 열거형 주석

#### 규칙 1 모든 공개 클래스, 구조체, 열거형은 문서화되어야 한다.

- **범위** `class`, `struct`, `enum` 선언.
- **근거** 데이터 구조나 타입의 역할, 책임, 사용법을 명확히 합니다.

```cpp
# GOOD: 클래스 주석
/**
 * @brief 동물의 기본 정보를 나타내는 추상 기본 클래스(ABC).
 * @details 이름, 나이 등 모든 동물의 공통 속성을 관리하고 소리를 내기 위한 순수 가상 함수를 제공합니다. 이 클래스는 상속을 통해서만 사용해야 합니다.
 * @note 직접 인스턴스화할 수 없습니다.
 * @see Cat, Dog
 */
class Animal {
    // ...
};

# GOOD: 열거형 주석
/**
 * @brief 동물 타입을 위한 열거형.
 */
enum class AnimalType {
    kUnknown, ///< 알 수 없음. 초기 또는 오류 상태를 나타냅니다.
    kCat,     ///< 고양이.
    kDog,     ///< 개.
};
```

### 4.3 함수 및 메서드 주석

#### 규칙 1 모든 public 및 protected 함수/메서드는 문서화되어야 한다.

- **범위** 함수 및 메서드 선언/정의.
- **근거** 함수의 계약(목적, 매개변수, 반환 값)을 명확하게 정의하며, 이는 API 사용자에게 매우 중요합니다.

#### Rule 2 필수 태그: `@brief`, `@param`, `@return`

- **범위** 문서화된 모든 함수/메서드.
- **근거** 가장 중요한 정보가 항상 존재하도록 보장합니다. `@param`은 모든 매개변수에 필요하며, 함수가 `void`가 아닌 경우 `@return`이 필요합니다.

```cpp
# GOOD
/**
 * @brief 두 개의 부동 소수점 숫자가 거의 동일인지 비교합니다.
 * @details 플로팅 포인트 정밀 한계의 문제를 피하기 위해 두 숫자의 차이가 매우 작은 값 (Epsilon)보다
 *          작은지 확인합니다.
 * @param lhs [in] 첫 번째 숫자 (왼쪽).
 * @param rhs [in] 두 번째 숫자 (오른쪽).
 * @return 두 숫자가 거의 같고, 그렇지 않으면 거짓이라면 사실입니다.
 * @note 사용 예제:
 * @code{.cpp}
 * IsEqual(1.0, 1.00000001); // true
 * IsEqual(1.0, 1.01);      // false
 * @endcode
 * @bug 0.5 + 0.5를 1.0과 비교할 때 실패 사례가 보고되었습니다.
 * @todo (kmlim) 보고 된 버그 케이스는 수정해야합니다.
 */
static auto IsEqual(double lhs, double rhs) -> bool;
```

### 4.4 멤버 변수 주석

#### 규칙 1 모든 protected 및 public 멤버 변수는 인라인 주석을 가져야 한다.

- **범위** 멤버 변수 선언.
- **근거** 변수가 선언된 바로 그 위치에 변수의 목적에 대한 간결한 설명을 제공합니다.

```cpp
# GOOD
protected:
    std::string name_{}; ///< 동물의 이름.
    uint8_t age_{};      ///< 동물의 나이 (0-255세).
```

### 4.5 고급 및 유틸리티 태그

#### 규칙 1 사용 중단된 코드를 명확하게 표시하라.

- **범위** 사용되지 않는 함수, 메서드, 클래스 또는 열거형.
- **근거** 개발자에게 기능이 더 이상 사용을 권장하지 않으며 향후 제거될 것임을 알립니다. 대안을 제시하는 것이 좋은 습관입니다.

```cpp
# GOOD
/**
/**
 * @brief 데이터를 처리하는 이전 함수.
 * @deprecated NewProcessData()로 대체되었습니다. v2.0에서 제거될 예정입니다.
 * @see NewProcessData()
 */
void OldProcessData();
```

#### 규칙 2 중요한 정보를 강조하기 위해 주석 태그를 사용하라

- **범위** 특별한 강조가 필요한 모든 문서 블록.
- **근거** `@note`, `@warning`, `@attention`은 독자의 주의를 중요한 정보, 잠재적 위험 또는 중요한 고려 사항으로 이끄는 표준화된 방법을 제공합니다.

```cpp
# GOOD
/**
 * @brief 중요한 작업을 수행합니다.
 * @warning 이 함수는 스레드로부터 안전하지 않습니다. 외부에서 접근을 동기화해야 합니다.
 * @note 성능상의 이유로 이 함수는 입력 매개변수를 검증하지 않습니다.
 *
void DoCriticalOperation();
```

#### 규칙 3 작업과 버그를 코드에서 직접 추적하라

- **범위** 향후 작업이 필요하거나 알려진 문제가 있는 코드의 모든 부분.
- **근거** `@todo`와 `@bug` 는 작업 및 버그 추적을 소스 코드에 통합하여 개발자에게 매우 잘 보이도록 합니다. Doxygen은 이러한 모든 항목의 목록을 생성할 수 있습니다.

```cpp
# GOOD
/**
 * @brief 총 가격을 계산합니다.
 * @param items 구매할 항목 목록.
 * @return 총 가격.
 * @bug 대량 주문 시 할인을 제대로 처리하지 못합니다.
 * @todo (movingChurch) 새로운 PricingService를 사용하여 할인 로직을 리팩터링해야 합니다.
 */
float CalculatePrice(const std::vector<Item>& items);
```

#### 규칙 4 명확한 코드 예제를 제공하라

- **범위** 사용법이 즉시 명확하지 않은 함수/메서드 주석.
- **근거** `@code`를 통한 구체적인 코드 예제는 개발자가 API를 올바르게 사용하는 방법을 이해하는 가장 빠른 방법인 경우가 많습니다.

```cpp
# GOOD
/**
 * @brief 두 부동 소수점 숫자가 거의 같은지 비교합니다.
 * @return 두 숫자가 거의 같으면 true, 그렇지 않으면 false.
 * @note 사용 예:
 * @code{.cpp}
 * IsEqual(1.0, 1.00000001); // true
 * IsEqual(1.0, 1.01);      // false
 * @endcode
 */
static auto IsEqual(double lhs, double rhs) -> bool;
```
